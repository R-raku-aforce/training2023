<html>
	<head>
		<meta charset="utf-8">
		<title>課題第五回</title>
		<link href="css/style.css" rel="stylesheet">
	</head>
	<body>
		
			<div id="choice">お金をいれる 
				<input id="choose" type="number" name = "choose"><br>
				<input type="radio" id="option1" value="150"/> コーヒー(\150)
				<input type="radio" id="option2" value="130"/> お茶(\130)
				<input type="radio" id="option3" value="160"/> オレンジ(\160)
				<input type="radio" id="option4" value="100"/> 水(\100)
			</div>
			<button id ="buyButton2">購入</button>
			<div id ="feedback2" type="text"></div>
		<script>
			
			
			let moneynow2 = 0;
			var myInputElement2 = document.getElementById("choose");
			const buyButton2 = document.getElementById("buyButton2");
			const feedback2 = document.getElementById("feedback2");
			var option1 = document.getElementById("option1")
			var option2 = document.getElementById("option2")
			var option3 = document.getElementById("option3")
			var option4 = document.getElementById("option4")
			
			const inputElement = document.querySelector(`choose`);
			
			inputElement.addEventListener(`choose`,(event) => {
				const inputValue = event.target.value;
				if (addmoney2 < 100){
					option1.ariaDisabled = true;
					option2.ariaDisabled = true;
					option3.ariaDisabled = true;
					option4.ariaDisabled = true;
				}else if(addmoney2 >= 130 && addmoney < 150){
					option1.ariaDisabled = true;
					option3.ariaDisabled = true;
				}else if(addmoney >= 150 && addmoney < 160 ){
					option3.ariaDisabled = true;
				}
				
			});
					
			buyButton2.onclick = function (){
					
				
				var inputedValue2 = myInputElement2.value;
				var selectedOptionValue2 = selectElement2.value;
					//var options = $("#select option:selected");
				var selectedOptionText2 = selectElement2.text;
					//var selectedOptionText = options.text();
				var price2 = Number(selectedOptionValue2);
				var drink2 = selectedOptionText2;
				let addmoney2 = Number(inputedValue2);

				if (addmoney < price){
						
					feedback.textContent = "お金が足りません";
						
				}else if(addmoney >= price ){
						
					moneynow = addmoney - price;
						
					feedback.textContent = drink + "を購入しました。おつりは"+ moneynow +"円です";	
				}				
			}			
		</script>
	</body>